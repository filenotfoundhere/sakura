abstraction_level,description,id,is_bdd,method_signature,project_name,qualified_class_name
low,"Define a test method that verifies `JavaClass.findField` throws `ClassCircularityError` when encountering cyclic class inheritance by first invoking a private method that constructs a `ClassGen` instance with arguments String literal `""CyclicClassA""` as class name, String literal `""CyclicClassB""` as superclass name, concatenation `""CyclicClassA"" + "".java""` as source file, bitwise OR of `Const.ACC_PUBLIC`, `Const.ACC_INTERFACE`, and `Const.ACC_ABSTRACT` as access flags, and a new String array containing single element `""InterfaceB""` as interfaces, then invoke `getJavaClass()` on the `ClassGen` instance, chain `dump()` with a `ByteArrayOutputStream` instance, and finally invoke `toByteArray()` on the stream to produce a byte array assigned to `classABytes`. Next, invoke another private method that constructs a `ClassGen` with String literal `""CyclicClassB""` as class name, String literal `""java.lang.Object""` as superclass, concatenation `""CyclicClassB"" + "".java""` as source file, the same bitwise OR access flags, and a String array containing `""CyclicClassA""`, following the same `getJavaClass().dump(baos).toByteArray()` pattern to assign the result to `classBBytes`. Then invoke the first private method again with arguments `""CyclicTestClass""` and `""CyclicClassA""` (this time creating a class, not interface, so using `Const.ACC_PUBLIC` and an empty String array), producing `testClassBytes`. Instantiate a `ClassParser` by passing a new `ByteArrayInputStream` constructed with `classABytes` and String literal `""CyclicClassA.class""`, then immediately invoke `parse()` on the parser and assign the resulting `JavaClass` to `interfaceA`. Repeat this pattern: create a `ClassParser` with new `ByteArrayInputStream(classBBytes)` and `""CyclicClassB.class""`, invoke `parse()`, assign to `interfaceB`, then create a `ClassParser` with new `ByteArrayInputStream(testClassBytes)` and `""CyclicTestClass.class""`, invoke `parse()`, assign to `testClass`. Invoke `SyntheticRepository.getInstance()` and assign the returned `SyntheticRepository` to `repo`. Open a try block, then within it invoke `storeClass` on `repo` passing `interfaceA`, invoke `storeClass` again passing `interfaceB`, invoke `storeClass` a third time passing `testClass`, invoke `Repository.setRepository` passing `repo`, and then invoke `assertThrows` with `ClassCircularityError.class` as the expected exception type and a lambda expression that invokes `findField` on `testClass` with String literal `""nonExistentField""` and `Type.INT` as arguments. In the finally block, invoke `removeClass` on `repo` passing `interfaceA`, invoke `removeClass` passing `interfaceB`, and invoke `removeClass` passing `testClass`. The test uses JUnit 5 Assertions with method-level annotation `@Test` and no class-level annotations.",308,False,testFindFieldCustomClass(),commons-bcel,org.apache.bcel.classfile.JavaClassTest
medium,"Define a test method that validates the resource management behavior of the ClassPath utility by constructing a ClassPath instance within a try-with-resources block, passing the system classpath string obtained from the static getClassPath method to the constructor, then immediately assert that the constructed instance is not null to confirm successful initialization, allowing the try-with-resources mechanism to automatically invoke the close method upon block exit to verify proper resource cleanup without explicit teardown code, using a testing framework that supports standard Java exception handling for IOException.",46,False,testClose(),commons-bcel,org.apache.bcel.util.ClassPathTest
low,"Define a test method that throws `ReflectiveOperationException` and begins by instantiating a `BeanUtilsBean` using the no-argument constructor, assigning the result to variable `bub`. Invoke `getPropertyUtils()` on `bub` and assign the returned `PropertyUtilsBean` to variable `propertyUtilsBean`. On `propertyUtilsBean`, invoke `removeBeanIntrospector` passing the static field `SuppressPropertiesBeanIntrospector.SUPPRESS_DECLARING_CLASS` as the argument. Create a new instance of the nested test class `Fixture` using its no-argument constructor and assign it to variable `fixture`. Invoke `getProperty` on `bub` with arguments `fixture` and the String literal `""testEnum.declaringClass""`, assigning the returned String to variable `string`. Assert equality between `string` and the result of invoking `TestEnum.class.getName()` using `assertEquals`. Invoke `getNestedProperty` on `propertyUtilsBean` with arguments `fixture` and String literal `""testEnum.declaringClass""`, wrap this invocation in `assertInstanceOf(Class.class, ...)` to verify the returned object is of type `Class`, and assign the result (cast to `Class<TestEnum>`) to variable `teClass`. Invoke `getClassLoader()` on `teClass` and assign the returned `ClassLoader` to variable `classLoader`. Assert that `classLoader` is not null using `assertNotNull(classLoader)`. Invoke `getProperty` on `bub` with arguments `fixture` and String literal `""testEnum.declaringClass.classLoader""`, and assert that the returned value is not null using `assertNotNull`. Finally, invoke `getNestedProperty` on `propertyUtilsBean` with arguments `fixture` and String literal `""testEnum.declaringClass.classLoader""`, and assert that the returned object is an instance of `ClassLoader` using `assertInstanceOf(ClassLoader.class, ...)`. The test uses JUnit 5 Assertions and is annotated with `@Test` at the method level.",257,False,testAllowAccessToClassPropertyFromBeanUtilsBean(),commons-beanutils,org.apache.commons.beanutils2.bugs.EnumDeclaringClassTest
high,"Create a test case to validate that the property access system enforces security restrictions by default, preventing unauthorized navigation through sensitive object relationships. Begin by establishing a business entity within the system that contains enumerated type information, then configure a property access utility to operate under standard security constraints. Attempt to traverse a nested property path that would expose internal class loading mechanisms through the enumeration's declaring class reference, simulating a potential security vulnerability where users might try to access system-level metadata. Verify that the system correctly blocks this access attempt by refusing to resolve the property path, ensuring that the default security policy prevents exposure of internal implementation details. The test relies on JUnit 5 for execution and uses standard exception-based validation to confirm the system denies the unauthorized property traversal.",198,False,testSuppressClassPropertyByDefaultFromPropertyUtilsBean(),commons-beanutils,org.apache.commons.beanutils2.bugs.EnumDeclaringClassTest
low,"Define a test class that extends a superclass providing shared test infrastructure, then declare a `@BeforeEach` setup method that first invokes `super.setUp()` to initialize an `Options` instance by constructing it via `new Options()` and chaining three `addOption` calls with arguments `(""a"", ""enable-a"", false, ""turn [a] on or off"")`, `(""b"", ""bfile"", true, ""set the value of [b]"")`, and `(""c"", ""copt"", false, ""turn [c] on or off"")`, after which assign a new `DefaultParser` instance created via `new DefaultParser()` to the field `parser`. Within the test method annotated with `@Test`, begin by invoking the static method `DefaultParser.builder()` to obtain a `Builder` instance, then chain `setStripLeadingAndTrailingQuotes(false)`, `setAllowPartialMatching(false)`, and `setDeprecatedHandler(null)` in sequence, assigning the resulting builder to a local variable `builder` of type `org.apache.commons.cli.DefaultParser.Builder`. Next, invoke `build()` on `builder` and assign the returned `DefaultParser` to the field `parser`, immediately followed by invoking `assertEquals` with arguments `DefaultParser.class` and the result of `parser.getClass()` to verify the parser's runtime type. Subsequently, invoke `get()` on `builder` and reassign the returned instance to `parser`, then again invoke `assertEquals` with arguments `DefaultParser.class` and `parser.getClass()` to confirm the type once more. The test uses JUnit 5 assertions via `assertEquals`, applies the `@Test` annotation at the method level, and relies on a `@BeforeEach` setup method to initialize the parser field before each test execution.",925,False,testBuilder(),commons-cli,org.apache.commons.cli.DefaultParserTest
medium,"Define a test method that validates the command-line parser's behavior when encountering unrecognized options with both stop-at-non-option enabled and disabled modes. Build three Option instances using the builder pattern, each configured with a short option identifier and a long option name, then instantiate an Options container and register all three options with it. Construct a string array containing three valid option flags followed by an unrecognized option flag and two positional argument strings. Instantiate a DefaultParser and invoke its parse method on the options container with the argument array, passing null for properties and true for the stop-at-non-option flag to enable lenient parsing. Upon receiving the resulting CommandLine instance, assert that exactly three options were recognized by checking the options array length, then verify that exactly three arguments were captured in the arguments list by checking its length. Confirm that the arguments list contains the unrecognized option flag as well as both positional argument strings to validate that unrecognized tokens were treated as arguments rather than causing parse failure. To verify strict parsing behavior, assert that invoking the parse method again with the same options and arguments but with the stop-at-non-option flag set to false throws an UnrecognizedOptionException, then validate that the exception message contains the unrecognized option flag to confirm proper error reporting. This test uses JUnit 5 for test execution and assertions.",1339,False,testLegacyStopAtNonOption(),commons-cli,org.apache.commons.cli.DefaultParserTest
medium,"Define a test method that validates the DecoderException constructor's ability to format a message using a template string with variable arguments by instantiating a DecoderException with a format template containing a placeholder and a corresponding argument value, then immediately verify that invoking the getMessage method on the exception returns the fully formatted message with the placeholder replaced by the argument, and subsequently confirm that calling getCause on the exception returns null since no underlying cause was provided during construction, using JUnit 5 and standard assertion methods.",277,False,testConstructorStringObjectArray(),commons-codec,org.apache.commons.codec.DecoderExceptionTest
high,"Create a test case to validate that a cyclic redundancy check calculator configured with specific parameters correctly computes checksums across multiple operations and properly resets to its initial state. Begin by configuring a checksum calculator using a predefined lookup pattern appropriate for industrial communication protocols and establishing a starting reference value, then process a standard data payload and verify the system produces the expected integrity signature. Once confirmed, process the same payload again through the calculator and ensure the system generates a different signature reflecting the accumulated state, demonstrating that subsequent operations build upon previous calculations. After establishing this behavior, instruct the system to reset the calculator back to its original configuration, then reprocess the identical payload and confirm the system produces the same signature as the first operation, proving the reset capability restores the calculator to its initial state without retaining any prior computation history. Use JUnit 5 for the testing framework and standard equality assertions to verify each computed signature matches the expected business outcome at each stage of the validation sequence.",498,False,testInit(),commons-codec,org.apache.commons.codec.digest.Crc16Test
medium,"Define a test method that validates the CSV Format Builder's delimiter validation logic by constructing a builder from the default CSV format, configuring it with a carriage return character as the delimiter, and verifying that invoking the builder's get method to finalize the format throws an IllegalArgumentException, confirming that line break characters are properly rejected as delimiters during format construction, using a standard assertion framework for exception validation.",144,False,testDelimiterCharLineBreakCrThrowsException1(),commons-csv,org.apache.commons.csv.CSVFormatTest
high,"Create a test case to validate the system's ability to process structured data files when no specific formatting rules are provided, ensuring the system applies sensible defaults and successfully extracts all records. Begin by locating a pre-existing sample data file within the test resources that contains structured tabular information, then configure the system to read this file using the platform's default character encoding while explicitly indicating that no custom formatting rules should be applied, which should cause the system to automatically apply standard default formatting conventions. Once the data reader is initialized, instruct the system to process the entire file by iterating through each record and confirming that every extracted record contains valid information without encountering any parsing failures or empty results. After confirming successful extraction of all records, ensure the system properly releases the file handle and any associated resources to prevent resource leaks. The test should use JUnit 5 as the testing framework and verify successful record extraction using standard equality assertions that confirm each record is properly populated.",128,False,testParseInputStreamCharsetNullFormat(),commons-csv,org.apache.commons.csv.CSVParserTest
low,"Define a test class containing a protected field `cpds` of type `org.apache.commons.dbcp2.datasources.ConnectionPoolDataSourceProxy`, and implement a setup method annotated with `@BeforeEach` that instantiates `cpds` by passing a new `DriverAdapterCPDS` instance to the `ConnectionPoolDataSourceProxy` constructor, then invoke `getDelegate()` on `cpds`, cast the result to `DriverAdapterCPDS`, and assign it to a local variable `delegate`, after which invoke `setDriver` on `delegate` with argument `""org.apache.commons.dbcp2.TesterDriver""`, invoke `setUrl` with argument `""jdbc:apache:commons:testdriver""`, invoke `setUser` with argument `""userName""`, and invoke `setPassword` with argument `""password""`. In the test method annotated with `@Test`, instantiate a `CPDSConnectionFactory` by passing six arguments to its constructor: the field `cpds`, `null`, the result of calling `Duration.ofMillis(-1)`, the boolean literal `false`, the String literal `""userName""`, and the result of invoking `toCharArray()` on the String literal `""password""`, assigning the constructed factory to a local variable `factory`, then assign the String literal `""a""` to a local variable `pwd`, invoke `setPassword` on `factory` with argument `pwd`, and assert using `assertEquals` that the String literal `""a""` equals the result of calling `String.valueOf` on the char array returned by invoking `getPasswordCharArray()` on `factory`. The test uses the `@Test` annotation from JUnit 5, and assertions are performed using JUnit 5's `assertEquals` method.",71,False,testSetPasswordString(),commons-dbcp,org.apache.commons.dbcp2.datasources.TestCPDSConnectionFactory
high,"Create a test case to validate that the credential clearing mechanism properly sanitizes authentication information across all possible initial states, ensuring sensitive data is securely removed from memory after use. Begin by establishing scenarios where credentials are configured with missing information, empty values, and populated data, then invoke the clearing operation on each credential set and verify the resulting state matches security requirements. When credentials were initially missing, confirm the cleared state remains absent; when credentials were initially empty, ensure they remain empty after clearing; when credentials contained actual values, verify they are overwritten with nullified characters to prevent memory exposure. Validate this behavior for both the account identifier and secret across all representation formats, confirming that the clearing operation consistently transforms sensitive information into a safe state regardless of how the credentials were originally stored. Use JUnit 5 for the testing framework and standard equality assertions to verify the expected outcomes after each clearing operation.",37,False,testClear(),commons-dbcp,org.apache.commons.dbcp2.datasources.UserPassKeyTest
low,"Define a test method annotated with `@Test` that declares `throws Exception` in its signature, then invoke the static method `loadDriver` on class `DbUtils` passing two arguments: first, obtain the `ClassLoader` by calling `getClassLoader()` on the class literal `DbUtils.class`, and second, pass the String literal `""org.h2.Driver""`, and immediately assert that the returned boolean value is `true` using `assertTrue` from JUnit. The test uses JUnit 5 Assertions with method-level annotation `@Test` and declares exception `java.lang.Exception` in the throws clause.",8,False,testLoadDriverClassLoaderH2(),commons-dbutils,org.apache.commons.dbutils.DbUtilsTest
low,"Define a test method annotated with `@Test` that declares `throws Exception` in its signature, then invoke the static method `loadDriver` on class `org.apache.commons.dbutils.DbUtils` passing the String literal `""org.h2.Driver""` as the argument, and immediately assert that the returned boolean value is `true` using `assertTrue` from JUnit. The test uses JUnit 5 Assertions and has no class-level annotations, no field declarations, no setup methods, and no teardown methods.",7,False,testLoadDriverH2(),commons-dbutils,org.apache.commons.dbutils.DbUtilsTest
low,"Define a test method annotated with `@Test` that validates the builder pattern of `ExecuteWatchdog` through a sequence of six assertion chains. Begin by invoking `ExecuteWatchdog.builder()` to obtain an `ExecuteWatchdog.Builder` instance, immediately chain `.get()` to produce an `ExecuteWatchdog` object, and pass this result to `assertNotNull` to verify the instance is non-null. Next, invoke `ExecuteWatchdog.builder()` again, chain `.get()`, then invoke `getWatchdog()` on the resulting `ExecuteWatchdog` to retrieve the internal `Watchdog` object, and pass this to `assertNull` to confirm it is null when no timeout is configured. For the third assertion, invoke `ExecuteWatchdog.builder()`, chain `.setTimeout(null)` passing the null literal, chain `.get()`, and pass the resulting `ExecuteWatchdog` to `assertNotNull` to verify the instance is created despite the null timeout. For the fourth assertion, create a `Duration` by calling `Duration.ofMinutes(1)`, then invoke `ExecuteWatchdog.builder()`, chain `.setTimeout(Duration.ofMinutes(1))` passing the one-minute duration, chain `.get()` to obtain the `ExecuteWatchdog`, invoke `getWatchdog()` on it to retrieve the `Watchdog`, invoke `getTimeout()` on the `Watchdog` to get the configured timeout duration, and use `assertEquals(Duration.ofMinutes(1), ...)` to verify the timeout equals the expected one-minute duration. For the fifth assertion, invoke `ExecuteWatchdog.builder()`, chain `.setThreadFactory(null)` passing the null literal, chain `.get()`, and pass the resulting `ExecuteWatchdog` to `assertNotNull` to confirm the instance is created with a null thread factory. For the sixth and final assertion, invoke `ExecuteWatchdog.builder()`, chain `.setThreadFactory(null)`, then chain `.setTimeout(Duration.ofMinutes(1))` passing the one-minute duration created via `Duration.ofMinutes(1)`, chain `.get()` to obtain the `ExecuteWatchdog`, invoke `getWatchdog()` to retrieve the `Watchdog`, invoke `getThreadFactory()` on the `Watchdog` to get the configured thread factory, and pass this to `assertNotNull` to verify the thread factory is non-null despite the initial null assignment. The test uses JUnit 5 Assertions with method-level annotation `@Test`.",94,False,testBuilder(),commons-exec,org.apache.commons.exec.ExecuteWatchdogTest
low,"Define a test method annotated with `@Test` and `@EnabledOnOs(org.junit.jupiter.api.condition.OS.MAC)` that verifies the operating system family detection behavior of the `org.apache.commons.exec.OS` class when running on macOS. Begin by invoking the static method `OS.isFamilyDOS()` and assert its return value is `false` using `assertFalse`. Next, invoke `OS.isFamilyMac()` and assert its return value is `true` using `assertTrue`. Continue by invoking `OS.isFamilyNetware()` and assert the result is `false` with `assertFalse`, then invoke `OS.isFamilyOpenVms()` and assert `false` using `assertFalse`. Proceed by calling `OS.isFamilyOS2()` and asserting `false` with `assertFalse`, followed by invoking `OS.isFamilyOS400()` and asserting `false` using `assertFalse`. Invoke `OS.isFamilyTandem()` and assert the return value is `false` with `assertFalse`, then call `OS.isFamilyUnix()` and assert the result is `true` using `assertTrue`. Continue the verification sequence by invoking `OS.isFamilyWin9x()` and asserting `false` with `assertFalse`, then call `OS.isFamilyWindows()` and assert `false` using `assertFalse`. Invoke `OS.isFamilyWinNT()` and assert the return value is `false` with `assertFalse`, and finally call `OS.isFamilyZOS()` and assert `false` using `assertFalse`. The test uses method-level annotations `@Test` and `@EnabledOnOs(org.junit.jupiter.api.condition.OS.MAC)`, and relies on JUnit 5 Assertions for verification.",90,False,testIsArchMacOs(),commons-exec,org.apache.commons.exec.OSTest
medium,"Define a test method that validates the state transitions of a Disk File Item as data is written across a configurable threshold by encapsulating the test logic within an integer consumer lambda that accepts a threshold value as its parameter, then within this consumer establish a test directory path under the target directory using the test class name, create the necessary directory structure, and generate a temporary subdirectory within it before building a Disk File Item Factory configured with the provided threshold, the temporary directory path, and UTF-8 charset, after which confirm the factory's threshold matches the input value, then construct a Disk File Item from the factory's builder and verify its threshold also matches the expected value before creating a private helper method that validates the item's current state by checking the underlying Deferrable Output Stream's state enumeration value, memory residency flag, output file path presence relative to the expected parent directory, and if provided, the accumulated byte count and string content against the item's reported size and retrieved data, initially asserting the item is in initialized state with data in memory and no output file, then obtain the item's output stream and initialize a string builder to track written content, writing bytes in a loop up to one less than the threshold while appending each character to the builder and verifying after each write that the item remains in opened state with data still in memory and no persisted file, upon writing the final byte that reaches the threshold append it to the builder and confirm the item transitions to persisted state with data no longer in memory and an output file created in the temporary directory, close the output stream and validate the item enters closed state while maintaining the persisted file location and matching the builder's accumulated string content, finally invoke this consumer twice with distinct threshold values of 5 and 8193 to verify behavior across small and large buffer boundaries using JUnit 5.",242,False,testStateModelWithPositiveThreshold(),commons-fileupload,org.apache.commons.fileupload2.core.DiskFileItemTest
medium,"Define a test method that validates the enforcement of the maximum part header size limit when processing multipart stream data by constructing a multipart request string containing two file parts with headers and body content, then converting this request string to a byte array using UTF-8 encoding and wrapping it in a ByteArrayInputStream to simulate an incoming data stream. Configure a boundary byte array from a boundary marker string, then use the MultipartInput Builder to construct a MultipartInput instance by chaining setInputStream with the byte array input stream, setBoundary with the boundary bytes, and setMaxPartHeaderSize with a limit of 100 bytes before invoking get to obtain the configured instance. Assert that the resulting MultipartInput instance is not null to confirm successful initialization. Within a try block, invoke skipPreamble on the MultipartInput instance to advance past any preamble content and capture the boolean result indicating whether an encapsulation was found, then enter a while loop that continues as long as additional parts are detected. Inside the loop, call readHeaders on the MultipartInput instance to retrieve the header content as a string, print the header length and content to standard output for diagnostic purposes, and assert that the headers string is not null to verify successful header retrieval. After processing headers, invoke readBodyData on the MultipartInput instance with a null output stream to consume the body content without storing it, then call readBoundary to advance to the next part boundary and update the loop continuation flag. If the loop completes without throwing an exception, invoke fail with a message indicating that an expected exception was not raised, thereby signaling test failure. In the catch block for FileUploadSizeException, assert that the exception's permitted size value equals 100 by calling getPermitted on the caught exception, thereby confirming that the size limit enforcement triggered correctly when header size exceeded the configured maximum. This test uses JUnit for assertions and exception handling.",207,False,testPartHeaderSizeMaxLimit(),commons-fileupload,org.apache.commons.fileupload2.core.MultipartStreamTest
high,"Create a test case to validate that the statistical analysis system correctly handles scenarios where no data observations have been recorded, ensuring all computed metrics return mathematically appropriate undefined values. Begin by establishing a fresh statistical analysis context with no prior observations, then simulate an empty data collection scenario by providing no numerical measurements to the system. Once the empty state is confirmed, systematically verify that the system reports undefined results for all statistical measures including the arithmetic average, geometric average, data spread, spread consistency, quadratic average, distribution shape characteristics (both asymmetry and peak concentration), boundary values (both highest and lowest observations), total accumulation, and squared total accumulation, comparing each computed result against the expected outcome when applying the same calculation to an empty data set. After confirming the system correctly produces undefined values for all metrics when no observations exist, verify the overall behavior using standard equality assertions provided by JUnit 5 and AssertJ without requiring any mocking capabilities.",1457,False,testEmpty(),commons-math,org.apache.commons.math4.legacy.stat.descriptive.DescriptiveStatisticsTest
low,"Define a test class containing thirteen private final double fields: `one`, `twoF`, `twoL`, `three`, `mean`, `sumSq`, `sum`, `var`, `std`, `n`, `min`, `max`, and `tolerance`, though only the empty array logic is exercised in this test method. Begin the test method by invoking the no-argument constructor of `SummaryStatistics` and assigning the result to variable `stats`. Immediately after, declare a double array variable `x` and initialize it with an empty array literal `{}`. Invoke `StatUtils.sum(x)` passing the empty array `x`, then invoke `stats.getSum()` on the `stats` instance, and assert equality between these two values using `Assertions.assertEquals`. Next, invoke `StatUtils.mean(x)` with argument `x`, invoke `stats.getMean()` on `stats`, and assert their equality using `Assertions.assertEquals`. Invoke `StatUtils.variance(x)` with argument `x` and assign the result to variable `v` of type double. Pass `v` to `JdkMath.sqrt(v)`, invoke `stats.getStandardDeviation()` on `stats`, and assert equality between the square root result and the standard deviation using `Assertions.assertEquals`. Assert equality between `v` and the result of invoking `stats.getVariance()` using `Assertions.assertEquals`. Invoke `StatUtils.max(x)` with argument `x`, invoke `stats.getMax()` on `stats`, and assert their equality using `Assertions.assertEquals`. Finally, invoke `StatUtils.min(x)` with argument `x`, invoke `stats.getMin()` on `stats`, and assert their equality using `Assertions.assertEquals`. The test uses method-level annotation `@Test` and relies on JUnit 5 Assertions for verification.",584,False,testEmpty(),commons-math,org.apache.commons.math4.legacy.stat.descriptive.SummaryStatisticsTest
